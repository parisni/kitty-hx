#!/usr/bin/env bash
set -eo pipefail

export SHELL="$(command -v bash)"

FILE="$1"

if [[ -z "$FILE" || ! -f "$FILE" ]]; then
  echo "Error: Must provide a valid file path."
  exit 1
fi

cd "$(dirname "$FILE")" || exit 1
FILENAME_ONLY="$(basename "$FILE")"

if ! git rev-parse --is-inside-work-tree > /dev/null 2>&1; then
  echo "Not inside a Git repository."
  exit 1
fi

lazygit -f "$FILE"
